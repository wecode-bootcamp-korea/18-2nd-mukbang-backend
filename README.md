## 먹방 (Mukbang) 프로젝트 Back-end

- 직방 사이트에서 영감을 얻은 프로젝트이며, 부동산 매물 대신 맛집정보를 지도에 표시해줍니다.

### 개발 인원 및 기간

- 개발기간 : 2021/3/29~ 2021/4/11
- 개발 인원 : 백엔드 2명, 프론트엔드 3명

### 프로젝트 선정이유

- 카카오 맵 API 를 사용해서 좌표 기반 정보 표시를 하는 과정이 흥미로울 것 같았습니다.
- 서드파티 API 를 다루는것에 조금 더 익숙해지고 싶었고, API 문서를 읽는 과정에서 필요한 부분에 대한 정보 검색 능력을 기르고 싶었습니다.

## 적용 기술 및 구현 기능

### 적용 기술

> - Back-End : Python, Django web framework, Django Transaction, Bcrypt, JWT, MySQL, Haversine, Geopy
> - Common : AWS(EC2,RDS), Docker, RESTful API

### 구현 기능

#### 카카오 로그인/회원가입
- 카카오 API 에서 받은 access token 을 프론트엔드에서 백엔드에게 건네주면, access token 을 다시 카카오에 요청하여 회원정보를 받아옴
- 받아온 회원정보를 DB 에 저장하는 로직 구현  

#### 가게 정보 등록페이지
- 가게 등록 페이지를 구현하여 가게의 정보와 위경도 좌표를 받을 수 있도록 구현

#### 가게 정보 표시 메인페이지
- 프론트엔드에서 위경도 좌표 값/모니터의 픽셀 값/DPI 값/축척 값을 받으면 유저가 보는 지도의 범위를 계산해서 해당되는 가게들의 데이터 표시

#### 가게 상세 페이지 리스트 필터링 & 페이지네이션
- 업종, 가격범위, 리뷰평점, 리뷰건수 로 가게를 필터링하는 로직과 동시에 페이지네이션을 하는 로직까지 한 view 에 구현

#### 가게 검색
- 가게 이름, 가게 주소, 근처 지하철역, 업종 이름으로 필터링
- Q 객체를 사용하여 | 연산자로 필터링에 걸린 모든 store object 를 담고, 중복된 object 들을 거르기 위해 distinct() 메소드를 사용
- select_related, prefetch_related 를 사용하여 for 문마다 쿼리가 db 를 hit 하는 횟수를 감소

#### 회원가입 문자인증
- 네이버 클라우드 sms API 서비스를 이용하여 문자인증 로직 구현
- 문자인증 과정 중 필요한 정보를 jwt 와 local storage 를 사용하여 db 에 추가적으로 저장하지 않고 해결 (리팩토링 때 Redis 를 사용하여 인증 과정 중 필요한 데이터를 캐싱 예정)

#### 데이터 입력 및 배포
- AWS EC2 인스턴스를 띄워 서버 배포/ AWS RDS 를 이용해 데이터베이스(MySQL) 배포

### 리팩토링 예정

#### 가게 이미지 등록 AWS S3 활용
- 가게이미지 등록 시 이미지 url 을 입력받았는데, 리팩토링 때 AWS S3 를 활용하여 이미지를 관리할 예정 (Python boto3 활용 예정)


## Reference

- 이 프로젝트는 [직방](https://www.zigbang.com/) 사이트를 참조하여 학습목적으로 만들었습니다.
- 실무수준의 프로젝트이지만 학습용으로 만들었기 때문에 이 코드를 활용하여 이득을 취하거나 무단 배포할 경우 법적으로 문제될 수 있습니다.
